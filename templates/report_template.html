<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Report Card</title>
    <link rel="stylesheet" href="report_card_styles.css">
</head>
<body>
    <div class="report-container">
        <img src="static/logos/SU_logo.png" class="watermark" alt="Watermark">
        <!-- Watermark background -->
        {% if is_secondary_class %}
        <img src="static/stamps/su_stamp_sss.png" class="stamp-sss" alt="stamp">
        <img src="static/stamps/signature_principal.png" class="signature_ht" alt="stamp">
        {% elif is_primary_class %}
        <img src="static/stamps/su_stamp_primary.png" class="stamp-primary" alt="stamp">
        <img src="static/stamps/signature_ht.png" class="signature_ht" alt="stamp">
        {% endif %}
        <div class="stamp-date">{{ current_date }}</div>

        <div class="content">
            <!-- Header Section -->
            <div class="header">
                <div>
                   <img src="static/logos/SU_logo.png" class="logo-placeholder" alt="School Logo">
                </div>
                <div class="header-text">
                   <div class="school-name">SCRIPTURE UNION INTERNATIONAL SCHOOLS</div>
                    <div class="school-address">64 IKOT ABASI STREET, UYO, AKWA IBOM STATE</div>
                    <div class="report-title">TERMLY REPORT FOR {{ term.upper() }}, {{ session }} SESSION</div>
                </div>
            </div>
            
            <!-- Student Information -->
            <div class="student-info">
                <div class="info-top">
                    <div class="info-col">
                        <span class="info-label">Name:</span>
                        <span class="info-value-name">{{ name.upper() }}</span>
                    </div>
                </div>
                <div class="info-middle">
                    <div class="info-col">
                        <span class="info-label">Gender:</span>
                        <span class="info-value">{{ 'MALE' if gender=='M' else 'FEMALE' if gender=='F' else '' }}</span>
                    </div>
                    <div class="info-col2">
                        <span class="info-label">Class:</span>
                        <span class="info-value">{{ class_name.upper() }}</span>
                    </div>
                    <div class="info-col">
                        <span class="info-label">No. in Class:</span>
                        <span class="info-value">{{ class_size }}</span>
                    </div>
                </div>
                <div class="info-bottom">
                    <div class="info-col">
                        <span class="info-label">{{"Student's Average:" if is_secondary_class else "Pupil's Average:"}}</span>
                        <span class="info-value">{{ average }}</span>
                    </div>
                    <div class="info-col2">
                        <span class="info-label">Class Average:</span>
                        <span class="info-value">{{ class_average }}</span>
                    </div>
                    <div class="info-col">
                        <!-- Show grade distribution for SSS2 and SSS3, position for others -->
                        {% if is_sss2_or_sss3 %}
                        <span class="info-label">Grades:</span>
                        <span class="info-value">{{ grade_distribution }}</span>
                        {% else %}
                        <span class="info-label">Position:</span>
                        <span class="info-value">{{ position }}</span>
                        {% endif %}
                    </div>
            </div>
            
            <!-- Performance Section -->
            <div class="performance-section">
                <div class="section-title">PERFORMANCE IN SUBJECTS</div>
                <table class="performance-table">
                    <thead>
                        <tr>
                            <th class="subject-column">SUBJECTS</th>
                            <th>Test<br>(30%)</th>
                            <th>Exam<br>(70%)</th>
                            <th>Total<br>(100%)</th>
                            <th>Grade</th>
                            <th>Remarks</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for subject in subjects %}
                        <tr>
                            <td class="subject-column">{{ subject.subject }}</td>
                            <td>{{ subject.test }}</td>
                            <td>{{ subject.exam }}</td>
                            <td>{{ subject.total }}</td>
                            <td>{{ subject.grade }}</td>
                            <td>{{ 'Excellent' if subject.grade == 'A' else 'Very Good' if subject.grade == 'B' else 'Good' if subject.grade == 'C' else 'Pass' if subject.grade == 'D' else 'Weak Pass' if subject.grade == 'E' else 'Fail' if subject.grade == 'F' else ' ' }}</td>
                        </tr>
                        {% endfor %}
                        <tr class="total-row">
                            <td class="subject-column">Total</td>
                            <td>{{ total_test }}</td>
                            <td>{{ total_exam }}</td>
                            <td>{{ grand_total }}</td>
                            <td colspan="2"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="conduct-section">
                <div class="header-container">
                    <div class="left-content">
                        <div class="section-title">OBSERVATION OF CONDUCT</div>
                        <div class="grading-subtitle">(5 - Exceptional) (4 - Excellent) (3 - Good) (2 - Average) (1 - Below Average)</div>
                        
                        <div class="conduct-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>RATING</th>
                                        <th class="rating-header"></th>
                                        <th>RATING</th>
                                        <th class="rating-header"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Punctuality</td>
                                        <td class="rating-cell">{{ psychomotor.punctuality }}</td>
                                        <td>Neatness</td>
                                        <td class="rating-cell">{{ psychomotor.neatness }}</td>
                                    </tr>
                                    <tr>
                                        <td>Honesty</td>
                                        <td class="rating-cell">{{ psychomotor.honesty }}</td>
                                        <td>Cooperation</td>
                                        <td class="rating-cell">{{ psychomotor.cooperation }}</td>
                                    </tr>
                                    <tr>
                                        <td>Leadership</td>
                                        <td class="rating-cell">{{ psychomotor.leadership }}</td>
                                        <td>Perseverance</td>
                                        <td class="rating-cell">{{ psychomotor.perseverance }}</td>
                                    </tr>
                                    <tr>
                                        <td>Politeness</td>
                                        <td class="rating-cell">{{ psychomotor.politeness }}</td>
                                        <td>Obedience</td>
                                        <td class="rating-cell">{{ psychomotor.obedience }}</td>
                                    </tr>
                                    <tr>
                                        <td>Attentiveness</td>
                                        <td class="rating-cell">{{ psychomotor.attentiveness }}</td>
                                        <td>Attitude to work</td>
                                        <td class="rating-cell">{{ psychomotor.attitude_to_work }}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="grading-system">
                        <div class="grading-title">Grading System</div>
                        <div class="grading-grid">
                            <div class="grading-item">
                                <span>A - Excellent</span>
                                <span>- 80% & Above</span>
                            </div>
                            <div class="grading-item">
                                <span>B - Very Good</span>
                                <span>- 70% - 79%</span>
                            </div>
                            <div class="grading-item">
                                <span>C - Good</span>
                                <span>- 60% - 69%</span>
                            </div>
                            <div class="grading-item">
                                <span>D - Pass</span>
                                <span>- 50% - 59%</span>
                            </div>
                            <div class="grading-item">
                                <span>E - Weak Pass</span>
                                <span>- 45% - 49%</span>
                            </div>
                            <div class="grading-item">
                                <span>F - Fail</span>
                                <span>- 1% - 44%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Comments Section -->
            <div class="comments-section">
                <div class="section-title">COMMENTS & REMARKS</div>
                
                <div class="comment-box">
                    <div class="comment-label">Class Teacher's Comment:</div>
                    <div class="comment-area">{{ class_teacher_comment }}</div>
                </div>
                
                <div class="comment-box">
                    <div class="comment-label">{{"Principal's Comment:" if is_secondary_class else "Head Teacher's Comment:"}}</div>
                    <div class="comment-area">{{ head_teacher_comment }}</div>
                </div>
            </div>
            
            <!-- Footer Information -->
            <div class="footer-section">
                <div class="fees-info">
                    <div class="fees-title">Next Terms School Fees:</div>
                    <div>- For {{ class_name }}</div>
                    <div class="account-info"> ##### </div>
                </div>
                
                <div class="account-info">
                    <div class="account-title">Account Information:</div>
                    <div>ECOBANK 0272005494 Scripture Union Int'l Schools</div>
                    <div>STERLING BANK 0072344744 Scripture Union Int'l Schools</div>
                </div>
                <div class="next-term">
                    <strong>Next Term Begins On:</strong> {{ next_term_date }}
                </div>
            </div>
        </div>
    </div>
</body>
</html>